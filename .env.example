# JEE Question PDF Extraction Pipeline - Configuration Template
# Copy this file to .env and adjust values for your environment

# ========== DIRECTORIES ==========
# Input/Output directories
PDF_INPUT_DIR=data/raw_pdfs
EXTRACTION_OUTPUT_DIR=extraction_output
SCHEMAS_DIR=schemas
LOGS_DIR=logs

# ========== NOUGAT CONFIGURATION ==========
# Nougat model for LaTeX equation extraction
# Model options: facebook/nougat-base, facebook/nougat-large
NOUGAT_MODEL=facebook/nougat-base

# Device for Nougat processing
# Options: cuda (GPU - recommended), cpu
# GPU processing is 5-10x faster than CPU
NOUGAT_DEVICE=cuda

# Batch size for Nougat (lower if running out of GPU memory)
# Typical values: 1 (GPU with low memory), 2-4 (GPU with moderate memory)
NOUGAT_BATCH_SIZE=1

# ========== OSRA CONFIGURATION ==========
# Path to OSRA executable (for chemical structure extraction)
# Ubuntu/Debian: /usr/bin/osra
# macOS: /usr/local/bin/osra
# Windows: C:\Program Files\OSRA\osra.exe
OSRA_PATH=osra

# Path to ImageMagick convert executable (OSRA dependency)
# Ubuntu/Debian: /usr/bin/convert
# macOS: /usr/local/bin/convert
# Windows: C:\Program Files\ImageMagick\convert.exe
IMAGEMAGICK_PATH=convert

# ========== SCHEMA VALIDATION ==========
# Path to JSON schema file for output validation
SCHEMA_PATH=schemas/jee_question_schema.json

# ========== BATCH PROCESSING ==========
# Maximum number of parallel workers for batch processing
# Recommended: CPU_COUNT / 2
# Typical values: 1 (sequential), 2-4 (moderate systems), 4-8 (high-end systems)
BATCH_MAX_WORKERS=2

# Enable parallel processing by default
# Options: true, false
BATCH_PARALLEL=false

# ========== LOGGING ==========
# Logging level for console and file output
# Options: DEBUG (verbose), INFO (normal), WARNING (quiet), ERROR (errors only), CRITICAL
LOG_LEVEL=INFO

# ========== ADVANCED OPTIONS ==========
# PyMuPDF zoom level for image extraction (affects image quality and processing time)
# Typical values: 1 (72 DPI), 2 (144 DPI - default), 3 (216 DPI - high quality)
PYMUPDF_ZOOM_LEVEL=2

# Enable GPU acceleration (if available)
# Options: true, false
USE_GPU=true

# ========== OPTIONAL: LLM INTEGRATION ==========
# These are for future integration with the RAG pipeline
# OpenAI API key (for future variations generation)
# OPENAI_API_KEY=sk-...

# Mistral API key (alternative LLM)
# MISTRAL_API_KEY=...

# ========== NOTES ==========
# 1. For GPU support: Install PyTorch with CUDA
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
#
# 2. For Nougat: Install with
#    pip install nougat-ocr
#
# 3. For OSRA: Install system package
#    Ubuntu: sudo apt-get install osra imagemagick
#    macOS: brew install osra imagemagick
#
# 4. Ensure PDF_INPUT_DIR and EXTRACTION_OUTPUT_DIR have write permissions
#
# 5. For batch processing, BATCH_MAX_WORKERS affects memory usage:
#    - Sequential (BATCH_PARALLEL=false): Lower memory, slower
#    - Parallel: Higher memory usage, faster processing
